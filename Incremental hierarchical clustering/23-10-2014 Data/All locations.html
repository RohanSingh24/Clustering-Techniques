<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Simple markers</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	    <script>
	function initialize() {
	var myLatlng = new google.maps.LatLng(40.4491304, -79.9446662);
	var mapOptions = {
    zoom: 16,
    center: myLatlng
	}
	var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
	var text ='{"Value":[["40.4431133, -79.9452868, 24-10-2014 15:13:39, ","40.4430909, -79.9453136, 24-10-2014 15:18:40, ","40.4430998, -79.9452955, 24-10-2014 15:23:40, ","40.4431126, -79.9452946, 24-10-2014 15:28:47, ","40.4430653, -79.9452833, 24-10-2014 15:33:29, ","40.4431127, -79.9453047, 24-10-2014 15:38:30, ","40.4431015, -79.9452771, 24-10-2014 15:43:31, ","40.4430712, -79.9452772, 24-10-2014 15:48:12, ","40.4430774, -79.9452672, 24-10-2014 16:06:09, ","40.4431298, -79.945305, 24-10-2014 16:15:31, ","40.4431623, -79.9448512, 24-10-2014 16:20:16, "],["40.4479441, -79.9440377, 24-10-2014 09:13:18, ","40.4481752, -79.9440512, 24-10-2014 09:34:05, ","40.4480455, -79.944054, 24-10-2014 10:13:29, ","40.4483284, -79.9439523, 24-10-2014 12:53:53, "],["40.4483733, -79.9448161, 24-10-2014 06:02:49, ","40.4483666, -79.9447236, 24-10-2014 06:07:48, ","40.4481283, -79.9447318, 24-10-2014 06:12:49, ","40.4483703, -79.9447183, 24-10-2014 06:17:52, ","40.448372, -79.9445465, 24-10-2014 07:18:00, ","40.4482929, -79.9445492, 24-10-2014 07:43:04, ","40.4483016, -79.9445543, 24-10-2014 08:18:10, ","40.4483398, -79.9450153, 24-10-2014 08:23:13, ","40.4482866, -79.9445375, 24-10-2014 08:28:11, ","40.448342, -79.9445306, 24-10-2014 08:43:13, ","40.4481605, -79.9444498, 24-10-2014 08:48:14, ","40.4483398, -79.9445927, 24-10-2014 11:03:17, ","40.4483517, -79.9446892, 24-10-2014 11:08:01, ","40.4483204, -79.9446883, 24-10-2014 11:18:00, ","40.4483302, -79.944598, 24-10-2014 11:23:00, ","40.4483204, -79.9446883, 24-10-2014 11:27:59, ","40.4483204, -79.9446883, 24-10-2014 11:38:00, ","40.4483533, -79.9446895, 24-10-2014 11:43:00, ","40.448447, -79.944778, 24-10-2014 11:48:42, ","40.4482784, -79.9447612, 24-10-2014 11:58:44, ","40.4483577, -79.9445916, 24-10-2014 12:43:53, ","40.4483121, -79.9448155, 24-10-2014 13:24:01, ","40.4483384, -79.9446649, 24-10-2014 13:44:04, ","40.4481135, -79.9445492, 24-10-2014 14:24:08, ","40.4482572, -79.9450552, 24-10-2014 14:54:11, ","40.4483365, -79.9446196, 24-10-2014 16:30:01, ","40.4482233, -79.944628, 24-10-2014 16:35:23, ","40.4482579, -79.9446799, 24-10-2014 16:40:27, ","40.4481876, -79.9450966, 24-10-2014 16:45:23, ","40.4483243, -79.9449603, 24-10-2014 16:50:25, ","40.4482714, -79.9448805, 24-10-2014 16:55:55, ","40.4483486, -79.9446943, 24-10-2014 17:40:18, ","40.44833, -79.9446394, 24-10-2014 17:45:03, ","40.4483421, -79.9445976, 24-10-2014 17:50:01, ","40.4483839, -79.9446789, 24-10-2014 18:00:04, ","40.4483391, -79.9446207, 24-10-2014 18:04:57, ","40.448341, -79.9445841, 24-10-2014 18:09:00, ","40.4483369, -79.9445975, 24-10-2014 18:14:01, ","40.4483454, -79.9446755, 24-10-2014 18:21:11, ","40.4483455, -79.9446866, 24-10-2014 18:24:01, ","40.4483434, -79.9445894, 24-10-2014 18:29:01, ","40.4483431, -79.9445834, 24-10-2014 18:34:14, ","40.4483421, -79.9445976, 24-10-2014 18:43:31, ","40.4483374, -79.9446117, 24-10-2014 18:48:25, ","40.4483389, -79.9446087, 24-10-2014 18:53:26, ","40.4483378, -79.9446081, 24-10-2014 18:58:15, ","40.4483525, -79.9446804, 24-10-2014 19:03:00, ","40.4483375, -79.9445941, 24-10-2014 19:08:00, ","40.4483435, -79.9445857, 24-10-2014 19:13:01, ","40.4483524, -79.94468, 24-10-2014 19:18:00, ","40.44835, -79.9446788, 24-10-2014 19:23:00, ","40.4483413, -79.9445554, 24-10-2014 19:28:00, ","40.4483431, -79.9445824, 24-10-2014 19:33:11, ","40.4483438, -79.9445877, 24-10-2014 19:39:55, ","40.4483492, -79.9446913, 24-10-2014 19:48:08, ","40.4483753, -79.9447055, 24-10-2014 19:59:03, ","40.4483267, -79.9445876, 24-10-2014 20:04:01, ","40.4483538, -79.9446491, 24-10-2014 20:14:55, ","40.4483737, -79.9446509, 24-10-2014 20:23:00, ","40.4483497, -79.944711, 24-10-2014 20:48:01, ","40.448352, -79.9446823, 24-10-2014 20:53:05, ","40.4483021, -79.9444661, 24-10-2014 21:08:02, ","40.4482641, -79.9444851, 24-10-2014 22:45:01, ","40.4483532, -79.9445403, 24-10-2014 22:50:01, ","40.4483155, -79.9445627, 24-10-2014 23:00:03, ","40.4483048, -79.9445433, 24-10-2014 23:05:08, ","40.4483708, -79.9446114, 24-10-2014 23:25:01, ","40.4483722, -79.9446149, 24-10-2014 23:30:00, ","40.4483127, -79.944557, 24-10-2014 23:38:01, ","40.4482416, -79.9445895, 24-10-2014 23:43:00, ","40.448224, -79.9445698, 24-10-2014 23:48:04, ","40.4483473, -79.9446932, 24-10-2014 23:53:02, ","40.4483708, -79.9446154, 24-10-2014 23:58:04, ","40.4483166, -79.9446532, 25-10-2014 00:03:06, ","40.4482309, -79.9445216, 25-10-2014 00:08:05, ","40.4483159, -79.9446527, 25-10-2014 00:18:02, ","40.4481874, -79.9445675, 25-10-2014 00:23:07, ","40.4482203, -79.9445125, 25-10-2014 00:33:01, ","40.4482203, -79.9445125, 25-10-2014 00:38:00, ","40.4482335, -79.9445256, 25-10-2014 00:43:02, ","40.4482018, -79.9444025, 25-10-2014 00:48:00, ","40.4483334, -79.9445644, 25-10-2014 01:23:00, ","40.4483264, -79.9445607, 25-10-2014 01:32:28, ","40.448261, -79.9444257, 25-10-2014 01:42:00, ","40.4483109, -79.9444531, 25-10-2014 01:47:00, ","40.4482455, -79.9444214, 25-10-2014 01:52:08, ","40.4483103, -79.9444956, 25-10-2014 01:57:00, ","40.4483267, -79.9445448, 25-10-2014 02:07:00, ","40.4483783, -79.9445384, 25-10-2014 02:12:00, ","40.4483454, -79.9444702, 25-10-2014 02:17:01, ","40.4483105, -79.9445967, 25-10-2014 02:22:00, ","40.4482434, -79.9445411, 25-10-2014 02:37:00, ","40.4483411, -79.9445584, 25-10-2014 02:47:01, ","40.4483076, -79.9444845, 25-10-2014 02:57:00, ","40.4483419, -79.9445721, 25-10-2014 03:02:00, ","40.4483655, -79.9445482, 25-10-2014 03:06:59, ","40.4483392, -79.9445303, 25-10-2014 03:12:00, ","40.4482784, -79.9445555, 25-10-2014 03:27:00, ","40.4483544, -79.9445865, 25-10-2014 03:32:01, ","40.4483581, -79.9445671, 25-10-2014 03:41:59, ","40.4483068, -79.9444576, 25-10-2014 03:52:00, ","40.4483272, -79.9444931, 25-10-2014 04:12:00, ","40.4482766, -79.9444191, 25-10-2014 04:17:19, ","40.4483218, -79.9444594, 25-10-2014 04:22:20, ","40.4483219, -79.9444632, 25-10-2014 04:27:21, ","40.4483425, -79.9445188, 25-10-2014 04:43:21, ","40.4483255, -79.9445174, 25-10-2014 04:48:05, ","40.4483422, -79.944571, 25-10-2014 04:53:00, ","40.448344, -79.9445941, 25-10-2014 04:58:40, ","40.448313, -79.9446408, 25-10-2014 05:03:40, ","40.4483416, -79.9446847, 25-10-2014 05:08:40, ","40.4483008, -79.9446982, 25-10-2014 05:13:25, ","40.4483304, -79.9446958, 25-10-2014 05:18:12, ","40.4483236, -79.9446882, 25-10-2014 05:23:02, ","40.448338, -79.9446856, 25-10-2014 05:27:43, ","40.4483313, -79.9447411, 25-10-2014 05:32:28, ","40.4483367, -79.9446756, 25-10-2014 05:37:13, ","40.4483378, -79.9446584, 25-10-2014 05:42:01, ","40.4483159, -79.9447232, 25-10-2014 05:47:09, ","40.4483324, -79.9446271, 25-10-2014 05:52:00, ","40.4483086, -79.9447153, 25-10-2014 05:57:02"],["40.4489685, -79.9454786, 24-10-2014 14:34:12, "],["40.4474815, -79.9441712, 24-10-2014 10:28:36, "]],"key":["40.44308409268024, -79.94502523059282, 24-10-2014 16:20:16","40.44807571937841, -79.94392111506332, 24-10-2014 12:53:53","40.44817837282378, -79.94474724830673, 25-10-2014 05:57:02","40.448705687097245, -79.9454408472113, 24-10-2014 14:34:12","40.44735806711142, -79.94405944970639, 24-10-2014 10:28:36"]}';
	var obj=JSON.parse(text); 
	var u=new Array(obj.Value.length);
	//alert(obj.key.length);
	var u1=new Array(obj.Value.length);
	var col=[ "red", "blue", "purple","green","pink"];
	var k=0,k1=1;
	for(var i=0; i<obj.key.length; i++)
    {
		//alert(obj.key[i]);
		u1[i]=obj.key[i].split(", ");
		//alert( u1[0][0]+" "+u1[0][1]);
		var m1=parseFloat(u1[i][0]);
		var m2=parseFloat(u1[i][1]);
		var point1 = new google.maps.LatLng(m1,m2);
		var marker = new google.maps.Marker({
		position: point1,
		map: map,
		title: "cluster:"+(i+1)+"Time and Date:"+u1[i][2],
		icon: new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/icons/yellow.png")
		});
	var populationOptions = {
      strokeColor: '#FF0000',
      strokeOpacity: 0.8,
      strokeWeight: 2,
      fillColor: '#FF0000',
      fillOpacity: 0.35,
      map: map,
      center: point1,
      radius: 30
		};
		cityCircle = new google.maps.Circle(populationOptions);
		var icon="http://maps.google.com/mapfiles/ms/icons/" +col[k]+ ".png";
			u[i]=new Array(obj.Value[i].length);
			for(var j=0; j<obj.Value[i].length; j++)
			{
				//alert("hiii h r u");
				//alert(obj.Value[i][j]);
			   u[i][j]=obj.Value[i][j].split(", ");
			   var f1=parseFloat(u[i][j][0]);
				var f2=parseFloat(u[i][j][1]);
				if(f1!=m1&&f2!=m2)
				{
				   var point = new google.maps.LatLng(f1,f2);
					var marker = new google.maps.Marker({
					position: point,
					map: map,
					title: "cluster:"+k1+"Time and Date"+u[i][j][2],
					icon: new google.maps.MarkerImage(icon)
					});
				}
			}
			if(k>4)
				k=0;
			k++;
		
		k1++;
    }
}
google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>
<body>
    <div id="map-canvas"></div>
    
</body>
</html>