<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>kmeans23octcluster</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	    <script>
	function initialize() {
	var myLatlng = new google.maps.LatLng(40.4491304, -79.9446662);
	var mapOptions = {
    zoom: 16,
    center: myLatlng
	}
	var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
	var text ='{"Value":[["40.4419471, -79.9565174","40.4424011, -79.9567819","40.4422373, -79.9566667","40.4437012, -79.9558621"],["40.4484957, -79.9445988","40.4484891, -79.9445986","40.4485207, -79.9445585","40.4485244, -79.9445946","40.4484966, -79.9446255","40.4485171, -79.9445785","40.4484898, -79.9445767","40.4484775, -79.9446682","40.4484969, -79.9446256"],["40.4483699, -79.9445248","40.4483833, -79.9445305","40.4483156, -79.9445778","40.4483241, -79.9445569","40.4483912, -79.944529","40.4483429, -79.9446121","40.4483729, -79.9445463","40.4482896, -79.9445614","40.4483715, -79.9445634"],["40.4456032, -79.9464772","40.4450499, -79.9503537","40.4470827, -79.9466151"],["40.4489954, -79.9452866","40.4488448, -79.944945"],["40.4414836, -79.9455318","40.4420227, -79.9451294"],["40.4483315, -79.9447427","40.4483387, -79.9446517","40.448339, -79.944714","40.4483078, -79.9446973","40.4483479, -79.9446913","40.4482598, -79.9448757","40.4483184, -79.9447014","40.4483172, -79.9447235","40.4483564, -79.9446388","40.4483361, -79.9447208","40.4482777, -79.9447562","40.4483176, -79.9447576","40.4483156, -79.9446966","40.4483156, -79.9446746","40.4483244, -79.9447269","40.4483154, -79.9446156","40.4483346, -79.9447194","40.4483563, -79.9447121","40.4483173, -79.9447949","40.44833, -79.9446716","40.4483697, -79.9447593","40.4483443, -79.9446938","40.4483772, -79.9447245","40.4484631, -79.94479","40.4483179, -79.9447137","40.4483152, -79.944712","40.4483221, -79.9446734","40.4483362, -79.944729","40.4482979, -79.944718","40.4483153, -79.9446856","40.4483061, -79.9447148","40.4483298, -79.944654","40.4483334, -79.9447063","40.4483508, -79.944659"],["40.4486842, -79.9445553","40.4487558, -79.9445623"],["40.4429691, -79.9451987","40.4430733, -79.9452939","40.4430676, -79.9452745","40.44307, -79.9452789","40.4430855, -79.9453005","40.4430076, -79.9452612","40.4430739, -79.9452909","40.4430719, -79.945294","40.4429032, -79.9454446","40.4430835, -79.9452954","40.4430661, -79.9452896","40.4428904, -79.9450191","40.4430811, -79.9452745","40.4430919, -79.9453006","40.4430813, -79.9452632","40.4430799, -79.9452975","40.4429907, -79.9445925","40.443072, -79.9452839","40.4430685, -79.9452692","40.4430954, -79.9453146","40.4430926, -79.9451844","40.4430667, -79.9452805","40.443076, -79.9452924","40.4433172, -79.9458634","40.443018, -79.9452011","40.4430646, -79.9452903","40.4430854, -79.9452919"],["40.4485449, -79.9446259"],["40.4491431, -79.9443703","40.4490945, -79.9446547","40.4489334, -79.9443953"],["40.4480784, -79.9447676","40.447981, -79.9451335","40.4481339, -79.9446533"],["40.4487127, -79.9438176","40.4486304, -79.9442044","40.4478212, -79.943849","40.4481558, -79.9442196","40.4483951, -79.9441121"],["40.4484611, -79.944441","40.4483785, -79.944435","40.4484862, -79.9444548","40.4483559, -79.9444072","40.4483906, -79.9444371","40.4484077, -79.9444131"],["40.4427709, -79.9457033"],["40.4485549, -79.9448971","40.4485326, -79.9449657","40.4483618, -79.9450023"]],"key":["40.4422373, -79.9566667","40.4484957, -79.9445988","40.4483729, -79.9445463","40.4456032, -79.9464772","40.4488448, -79.944945","40.4420227, -79.9451294","40.4483334, -79.9447063","40.4487558, -79.9445623","40.443072, -79.9452839","40.4485449, -79.9446259","40.4491431, -79.9443703","40.4480784, -79.9447676","40.4483951, -79.9441121","40.4483906, -79.9444371","40.4427709, -79.9457033","40.4485326, -79.9449657"]}';
	var obj=JSON.parse(text); 
	var u=new Array(obj.Value.length);
	//alert(obj.key.length);
	var u1=new Array(obj.Value.length);
	var col=[ "red", "blue", "purple","green","pink"];
	var k=0,k1=1;
	for(var i=0; i<obj.Value.length; i++)
    {
		//alert(obj.key[i]);
		u1[i]=obj.key[i].split(", ");
		//alert( u1[0][0]+" "+u1[0][1]);
		var m1=parseFloat(u1[i][0]);
		var m2=parseFloat(u1[i][1]);
		var point1 = new google.maps.LatLng(m1,m2);
		var marker = new google.maps.Marker({
		position: point1,
		map: map,
		title: "cluster:"+(i+1)+"Time and date:"+u1[i][2],
		icon: new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/icons/yellow.png")
		});
	var populationOptions = {
      strokeColor: '#FF0000',
      strokeOpacity: 0.8,
      strokeWeight: 2,
      fillColor: '#FF0000',
      fillOpacity: 0.35,
      map: map,
      center: point1,
      radius: 5
		};
		cityCircle = new google.maps.Circle(populationOptions);
		var icon="http://maps.google.com/mapfiles/ms/icons/" +col[k]+ ".png";
			u[i]=new Array(obj.Value[i].length);
			for(var j=0; j<obj.Value[i].length; j++)
			{
				//alert("hiii h r u");
				//alert(obj.Value[i][j]);
			   u[i][j]=obj.Value[i][j].split(", ");
			   var f1=parseFloat(u[i][j][0]);
				var f2=parseFloat(u[i][j][1]);
				if(f1!=m1&&f2!=m2)
				{
				   var point = new google.maps.LatLng(f1,f2);
					var marker = new google.maps.Marker({
					position: point,
					map: map,
					title: "cluster:"+k1+"Time and date:"+u[i][j][3],
					icon: new google.maps.MarkerImage(icon)
					});
				}
			}
			if(k>4)
				k=0;
			k++;
		
		k1++;
    }
}
google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>
<body>
    <div id="map-canvas"></div>
    
</body>
</html>