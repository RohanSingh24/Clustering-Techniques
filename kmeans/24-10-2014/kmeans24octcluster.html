<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>kmeans23octcluster</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	    <script>
	function initialize() {
	var myLatlng = new google.maps.LatLng(40.4491304, -79.9446662);
	var mapOptions = {
    zoom: 16,
    center: myLatlng
	}
	var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
	var text ='{"Value":[["40.4474815, -79.9441712","40.44728, -79.9439831"],["40.4485844, -79.9442825","40.4484401, -79.9442882","40.4485605, -79.9443579","40.4484155, -79.9442431","40.4487285, -79.9441099","40.448542, -79.9443313","40.4486194, -79.9441458","40.4484935, -79.9443462","40.4484877, -79.9444213","40.4486125, -79.9443661"],["40.4481752, -79.9440512","40.4478596, -79.943201","40.4483607, -79.9440833","40.448384, -79.9440176","40.4485228, -79.9439749","40.4483457, -79.9440167","40.4485212, -79.9438275","40.4483284, -79.9439523","40.4487024, -79.9434345"],["40.4483733, -79.9448161","40.4483497, -79.944711","40.4483086, -79.9447153","40.4483486, -79.9447287","40.4483121, -79.9448155","40.448384, -79.9447272","40.4483144, -79.9446919","40.4483194, -79.9447507","40.4483384, -79.9446649","40.4483538, -79.9446491","40.4483455, -79.9446866","40.4483486, -79.9446943","40.4483159, -79.9447232","40.4483378, -79.9446584","40.4483008, -79.9446982","40.4483873, -79.9447724","40.4483839, -79.9446789","40.4483524, -79.94468","40.4483159, -79.9446527","40.4483454, -79.9446755","40.448352, -79.9446823","40.4483666, -79.9447236","40.4483533, -79.9446895","40.4483502, -79.9446782","40.4483875, -79.944799","40.4483479, -79.9446535","40.4483166, -79.9446532","40.4483517, -79.9446892","40.4483753, -79.9447055","40.44835, -79.9446788","40.4482784, -79.9447612","40.4483525, -79.9446804","40.4483304, -79.9446958","40.4483313, -79.9447411","40.4483367, -79.9446756","40.4483236, -79.9446882","40.4483356, -79.9446788","40.4482579, -79.9446799","40.4483204, -79.9446883","40.4483506, -79.9446667","40.4483492, -79.9446913","40.4483158, -79.9446798","40.4483703, -79.9447183","40.4483523, -79.9446928","40.4483172, -79.9447138","40.448313, -79.9446408","40.44833, -79.9446394","40.448338, -79.9446856","40.4483416, -79.9446847","40.4483737, -79.9446509","40.4483473, -79.9446932"],["40.4484879, -79.9447034","40.4485219, -79.9446813","40.448481, -79.9446685","40.4484973, -79.9447148","40.4484463, -79.9447097","40.4485071, -79.9445948","40.4485496, -79.9447186","40.448447, -79.944778","40.4485625, -79.9446877","40.448545, -79.9446949","40.4484641, -79.944646"],["40.4424974, -79.9448834"],["40.4486659, -79.9446943","40.4488086, -79.9443978","40.4486427, -79.9445113","40.448766, -79.9447007"],["40.4484069, -79.9446149","40.448342, -79.9445306","40.4483016, -79.9445543","40.4483267, -79.9445448","40.4483419, -79.9445721","40.4483389, -79.9446087","40.4483334, -79.9445644","40.4483532, -79.9445403","40.4483302, -79.944598","40.4483048, -79.9445433","40.4483431, -79.9445824","40.4483378, -79.9446081","40.448344, -79.9445941","40.448341, -79.9445841","40.4483425, -79.9445188","40.4483398, -79.9445927","40.4483577, -79.9445916","40.4483411, -79.9445584","40.4483438, -79.9445877","40.4483413, -79.9445554","40.4483422, -79.944571","40.4483783, -79.9445384","40.4483722, -79.9446149","40.4483544, -79.9445865","40.4483434, -79.9445894","40.4482784, -79.9445555","40.448293, -79.9445759","40.4483581, -79.9445671","40.4482416, -79.9445895","40.4483155, -79.9445627","40.4483374, -79.9446117","40.4483435, -79.9445857","40.4483324, -79.9446271","40.4483655, -79.9445482","40.448436, -79.9445844","40.448372, -79.9445465","40.4483267, -79.9445876","40.4483105, -79.9445967","40.4483255, -79.9445174","40.4483421, -79.9445976","40.4482866, -79.9445375","40.4483365, -79.9446196","40.4482233, -79.944628","40.4483391, -79.9446207","40.4482434, -79.9445411","40.4483431, -79.9445834","40.4483708, -79.9446154","40.4483375, -79.9445941","40.4483127, -79.944557","40.4483392, -79.9445303","40.4483708, -79.9446114","40.448224, -79.9445698","40.4483369, -79.9445975","40.4483047, -79.9445623","40.4482929, -79.9445492","40.4483264, -79.9445607"],["40.448687, -79.9447733","40.4486848, -79.944776","40.448747, -79.9447988","40.4487243, -79.9448205","40.4487059, -79.9448305"],["40.4492861, -79.944831","40.4494341, -79.9446347"],["40.4482895, -79.9443806","40.4483234, -79.9444287","40.4483103, -79.9444956","40.4483514, -79.9443984","40.4483533, -79.9444581","40.4483202, -79.944418","40.4482612, -79.9444093","40.4482641, -79.9444851","40.448261, -79.9444257","40.4483459, -79.9444692","40.4483218, -79.9444594","40.4483585, -79.9444076","40.4483042, -79.9443785","40.4482298, -79.9444839","40.4483431, -79.9443919","40.4483109, -79.9444531","40.4483186, -79.9444216","40.4483569, -79.9444468","40.448289, -79.9443333","40.4482947, -79.9444169","40.4483425, -79.9444451","40.4483085, -79.9444068","40.4483448, -79.944448","40.4483272, -79.9444931","40.4482766, -79.9444191","40.4482309, -79.9445216","40.4482203, -79.9444934","40.4482422, -79.9442875","40.4483076, -79.9444845","40.4482823, -79.9444193","40.4483021, -79.9444661","40.4483454, -79.9444702","40.4483422, -79.9443711","40.4483214, -79.9443761","40.4483062, -79.9444045","40.4482364, -79.9443734","40.4483242, -79.9444206","40.448298, -79.944413","40.4483178, -79.9444377","40.4483402, -79.9444187","40.4483507, -79.94444","40.4483068, -79.9444576","40.4482335, -79.9445256","40.4483033, -79.9443531","40.4483219, -79.9444632","40.448352, -79.9442786","40.4482455, -79.9444214","40.4483072, -79.9444166","40.4482203, -79.9445125"],["40.4480455, -79.944054","40.4481605, -79.9444498","40.4479441, -79.9440377","40.4482018, -79.9444025","40.4481262, -79.9443607","40.4480413, -79.9444919"],["40.4481671, -79.9447753","40.4482177, -79.9446747","40.447904, -79.9447586","40.4481135, -79.9445492","40.4481283, -79.9447318","40.4481874, -79.9445675","40.4478243, -79.9445639"],["40.4489685, -79.9454786","40.4487711, -79.9450331","40.448782, -79.9449734","40.4486595, -79.9452391","40.4487564, -79.9450393","40.4486387, -79.9450286","40.4489642, -79.9451621"],["40.4482714, -79.9448805","40.4481876, -79.9450966","40.4483398, -79.9450153","40.4484504, -79.9451747","40.4484297, -79.9452186","40.4483823, -79.9451138","40.4481234, -79.9451841","40.4484272, -79.944936","40.4483243, -79.9449603","40.4484706, -79.9449633","40.4484636, -79.9449579","40.4482572, -79.9450552"],["40.4484821, -79.9445282","40.4483582, -79.9444506","40.44839, -79.9444185","40.4483775, -79.9444678","40.4484007, -79.9444574","40.4483652, -79.9444375","40.4484298, -79.9443388","40.4484487, -79.9445225","40.4483932, -79.9444817","40.4483908, -79.9444819","40.4484082, -79.944504","40.4483699, -79.94445","40.4483815, -79.9444252","40.4484089, -79.9443002","40.4483984, -79.9445197","40.4484735, -79.9444606","40.4484064, -79.9444002","40.4484713, -79.9444437","40.4485064, -79.94449","40.448435, -79.9444926","40.4483938, -79.9444584","40.4483691, -79.9444744","40.4484337, -79.9443914","40.4484179, -79.9444364"],["40.4431015, -79.9452771","40.4431133, -79.9452868","40.4431127, -79.9453047","40.4431126, -79.9452946","40.4430998, -79.9452955","40.4430653, -79.9452833","40.4428086, -79.9450967","40.4431298, -79.945305","40.4431837, -79.9452972","40.4432296, -79.9463534","40.4430909, -79.9453136","40.4431623, -79.9448512","40.4433966, -79.9450848","40.4430774, -79.9452672","40.4430712, -79.9452772"]],"key":["40.44728, -79.9439831","40.448542, -79.9443313","40.448384, -79.9440176","40.4483455, -79.9446866","40.4484879, -79.9447034","40.4424974, -79.9448834","40.4486659, -79.9446943","40.448341, -79.9445841","40.4487243, -79.9448205","40.4494341, -79.9446347","40.4483186, -79.9444216","40.4481262, -79.9443607","40.4481283, -79.9447318","40.4487564, -79.9450393","40.4483398, -79.9450153","40.4484007, -79.9444574","40.4430998, -79.9452955"]}';
	var obj=JSON.parse(text); 
	var u=new Array(obj.Value.length);
	//alert(obj.key.length);
	var u1=new Array(obj.Value.length);
	var col=[ "red", "blue", "purple","green","pink"];
	var k=0,k1=1;
	for(var i=0; i<obj.Value.length; i++)
    {
		//alert(obj.key[i]);
		u1[i]=obj.key[i].split(", ");
		//alert( u1[0][0]+" "+u1[0][1]);
		var m1=parseFloat(u1[i][0]);
		var m2=parseFloat(u1[i][1]);
		var point1 = new google.maps.LatLng(m1,m2);
		var marker = new google.maps.Marker({
		position: point1,
		map: map,
		title: "cluster:"+(i+1)+"Time and date:"+u1[i][2],
		icon: new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/icons/yellow.png")
		});
	var populationOptions = {
      strokeColor: '#FF0000',
      strokeOpacity: 0.8,
      strokeWeight: 2,
      fillColor: '#FF0000',
      fillOpacity: 0.35,
      map: map,
      center: point1,
      radius: 5
		};
		cityCircle = new google.maps.Circle(populationOptions);
		var icon="http://maps.google.com/mapfiles/ms/icons/" +col[k]+ ".png";
			u[i]=new Array(obj.Value[i].length);
			for(var j=0; j<obj.Value[i].length; j++)
			{
				//alert("hiii h r u");
				//alert(obj.Value[i][j]);
			   u[i][j]=obj.Value[i][j].split(", ");
			   var f1=parseFloat(u[i][j][0]);
				var f2=parseFloat(u[i][j][1]);
				if(f1!=m1&&f2!=m2)
				{
				   var point = new google.maps.LatLng(f1,f2);
					var marker = new google.maps.Marker({
					position: point,
					map: map,
					title: "cluster:"+k1+"Time and date:"+u[i][j][3],
					icon: new google.maps.MarkerImage(icon)
					});
				}
			}
			if(k>4)
				k=0;
			k++;
		
		k1++;
    }
}
google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>
<body>
    <div id="map-canvas"></div>
    
</body>
</html>